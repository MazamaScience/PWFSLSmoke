<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate Monitor Prediction Performance — monitor_performance • PWFSLSmoke</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Calculate Monitor Prediction Performance — monitor_performance" />

<meta property="og:description" content="This function uses confusion matrix analysis to calculate
different measures of predictive performance for every timeseries found
in predicted with respect to the observed values found in the single timeseries
found in observed.
The requested metric is returned in a dataframe organized with one row per monitor,
all available metrics are returned." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PWFSLSmoke</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/PWFSLSmoke.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Data_Model.html">Data Model</a>
    </li>
    <li>
      <a href="../articles/Maps_and_Timeseries_Plots.html">Maps and Timeseries Plots</a>
    </li>
    <li>
      <a href="../articles/NowCast.html">NowCast</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MazamaScience/PWFSLSmoke">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Monitor Prediction Performance</h1>
    <small class="dont-index">Source: <a href='https://github.com/MazamaScience/PWFSLSmoke/blob/master/R/monitor_performance.R'><code>R/monitor_performance.R</code></a></small>
    <div class="hidden name"><code>monitor_performance.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function uses <em>confusion matrix</em> analysis to calculate
different measures of predictive performance for every timeseries found
in <code>predicted</code> with respect to the observed values found in the single timeseries
found in <code>observed</code>.</p>
<p>The requested metric is returned in a dataframe organized with one row per monitor,
all available metrics are returned.</p>
    
    </div>

    <pre class="usage"><span class='fu'>monitor_performance</span>(<span class='no'>predicted</span>, <span class='no'>observed</span>, <span class='no'>t1</span>, <span class='no'>t2</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>FPCost</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>FNCost</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>predicted</th>
      <td><p>ws_monitor object with predicted data</p></td>
    </tr>
    <tr>
      <th>observed</th>
      <td><p>ws_monitor object with observed data</p></td>
    </tr>
    <tr>
      <th>t1</th>
      <td><p>value used to classify <code>predicted</code> measurements</p></td>
    </tr>
    <tr>
      <th>t2</th>
      <td><p>threshold used to classify <code>observed</code> measurements</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p><em>confusion matrix</em> metric to be used</p></td>
    </tr>
    <tr>
      <th>FPCost</th>
      <td><p>cost associated with false positives (type II error)</p></td>
    </tr>
    <tr>
      <th>FNCost</th>
      <td><p>cost associated with false negatives (type I error)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Dataframe of monitors vs named measure of performance.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='monitor_performanceMap.html'>monitor_performanceMap</a></p>
<p><a href='skill_confusionMatrix.html'>skill_confusionMatrix</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># If daily avg data were the prediciton and Spokane were</span>
<span class='co'># the observed, which WA State monitors had skill?</span>
<span class='no'>wa</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='airnow_loadAnnual.html'>airnow_loadAnnual</a></span>(<span class='fl'>2017</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='monitor_subset.html'>monitor_subset</a></span>(<span class='kw'>stateCodes</span><span class='kw'>=</span><span class='st'>'WA'</span>)
<span class='no'>wa_dailyAvg</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='monitor_dailyStatistic.html'>monitor_dailyStatistic</a></span>(<span class='no'>wa</span>, <span class='no'>mean</span>)
<span class='no'>Spokane_dailyAvg</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='monitor_subset.html'>monitor_subset</a></span>(<span class='no'>wa_dailyAvg</span>, <span class='kw'>monitorIDs</span><span class='kw'>=</span><span class='st'>'530630021_01'</span>)
<span class='no'>threshold</span> <span class='kw'>&lt;-</span> <span class='no'>AQI</span>$<span class='no'>breaks_24</span>[<span class='fl'>4</span>] <span class='co'># Unhealthy</span>
<span class='no'>performanceMetrics</span> <span class='kw'>&lt;-</span> <span class='fu'>monitor_performance</span>(<span class='no'>wa_dailyAvg</span>,
                                          <span class='no'>Spokane_dailyAvg</span>,
                                          <span class='no'>threshold</span>, <span class='no'>threshold</span>)
<span class='no'>monitorIDs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>rownames</a></span>(<span class='no'>performanceMetrics</span>)
<span class='no'>mask</span> <span class='kw'>&lt;-</span> <span class='no'>performanceMetrics</span>$<span class='no'>heidkeSkill</span> <span class='kw'>&amp;</span>
        !<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a></span>(<span class='no'>performanceMetrics</span>$<span class='no'>heidkeSkill</span>)
<span class='no'>skillfulIDs</span> <span class='kw'>&lt;-</span> <span class='no'>monitorIDs</span>[<span class='no'>mask</span>]
<span class='no'>skillful</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='monitor_subset.html'>monitor_subset</a></span>(<span class='no'>wa_dailyAvg</span>, <span class='kw'>monitorIDs</span><span class='kw'>=</span><span class='no'>skillfulIDs</span>)
<span class='fu'><a href='monitor_leaflet.html'>monitor_leaflet</a></span>(<span class='no'>skillful</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Callahan, Rohan Aras, Zach Dingels, Jon Hagg, Jimin Kim, Hans Martin, Helen Miller, Spencer Pease, Rex Thompson, Alice Yang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

