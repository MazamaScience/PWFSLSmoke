<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to PWFSLSmoke • PWFSLSmoke</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to PWFSLSmoke">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PWFSLSmoke</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/PWFSLSmoke.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Data_Model.html">Data Model</a>
    </li>
    <li>
      <a href="../articles/Maps_and_Timeseries_Plots.html">Maps and Timeseries Plots</a>
    </li>
    <li>
      <a href="../articles/NowCast.html">NowCast</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MazamaScience/PWFSLSmoke">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="PWFSLSmoke_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="PWFSLSmoke_files/jquery-1.12.4/jquery.min.js"></script><link href="PWFSLSmoke_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="PWFSLSmoke_files/leaflet-1.3.1/leaflet.js"></script><link href="PWFSLSmoke_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="PWFSLSmoke_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="PWFSLSmoke_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="PWFSLSmoke_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="PWFSLSmoke_files/leaflet-binding-2.0.2/leaflet.js"></script><script src="PWFSLSmoke_files/leaflet-providers-1.1.17/leaflet-providers.js"></script><script src="PWFSLSmoke_files/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to PWFSLSmoke</h1>
                        <h4 class="author">Mazama Science</h4>
            
            <h4 class="date">4/3/2019</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MazamaScience/PWFSLSmoke/blob/master/vignettes/PWFSLSmoke.Rmd"><code>vignettes/PWFSLSmoke.Rmd</code></a></small>
      <div class="hidden name"><code>PWFSLSmoke.Rmd</code></div>

    </div>

    
    
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The USFS Pacific Wildland Fire Sciences Lab <a href="https://www.airfire.org">AirFire</a> team works to model wildland fire emissions and has created the BlueSky Modeling Framework. This system integrates a wide collection of models along a smoke modeling pipeline (fire information, fuel loadings, consumption modeling, emissions modeling, time rate of emissions modeling, plume height estimations, and smoke trajectory and dispersion modeling). The resulting model output has been integrated into many different smoke prediction systems and scientific modeling efforts.</p>
<p>The <strong>PWFSLSmoke</strong> R package is being developed for PWFSL to help modelers, scientists and air quality professionals more easily work with PM2.5 data from monitoring locations across North America.</p>
<p>The package makes it easier to obtain data, perform analyses and generate reports. It includes functionality to:</p>
<ul>
<li>download and easily work with regulatory PM2.5 data from the EPA and AirNow</li>
<li>download and quality control raw monitoring data from AIRSIS and WRCC</li>
<li>convert between UTC and local timezones</li>
<li>apply various algorithms to the data (nowcast, rolling means, aggregation, etc.)</li>
<li>provide interactive timeseries and maps through RStudio’s Viewer pane</li>
<li>create a variety of publication ready maps and timeseries plots</li>
</ul>
<p>This introduction will help you get set up and walk you through a few simple analyses.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="installing-from-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-from-cran" class="anchor"></a>Installing from CRAN</h3>
<p>This package is designed to be used with <a href="https://cran.r-project.org">R</a> (&gt;= 3.3) and <a href="https://www.rstudio.com">RStudio</a> so make sure you have those installed first.</p>
<p>The following packages should be installed by typing the following at the RStudio console:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages('MazamaSpatialUtils')
install.packages('PWFSLSmoke')</a></code></pre>
</div>
<div id="installing-from-github" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-from-github" class="anchor"></a>Installing from Github</h3>
<p>Users will want to install the <strong>devtools</strong> package to have access to the latest version of the package from Github. Building vignettes will require <strong>knitr</strong> and <strong>rmarkdown</strong>:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages"># Note that vignettes require knitr and rmarkdown
install.packages('knitr')
install.packages('rmarkdown')
install.packages('MazamaSpatialUtils')
devtools::install_github('MazamaScience/PWFSLSmoke', build_vignettes=TRUE)</a></code></pre>
</div>
<div id="installing-spatial-data" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-spatial-data" class="anchor"></a>Installing spatial data</h3>
<p>Any work with spatial data, <em>e.g.</em> assigning countries, states and timezones while ingesting raw data, will require installation of required spatial datasets. To get these datasets you should type the following at the RStudio console:</p>
<pre><code><a href="https://www.rdocumentation.org/packages/base/topics/library">library(MazamaSpatialUtils)
dir.create('~/Data/Spatial', recursive=TRUE)
setSpatialDataDir('~/Data/Spatial')
installSpatialData()</a></code></pre>
</div>
</div>
<div id="function-names" class="section level2">
<h2 class="hasAnchor">
<a href="#function-names" class="anchor"></a>Function names</h2>
<p>The package has a lot of functions but most of them fall into a few specific categories identified by the function name prefix:</p>
<ul>
<li>
<code>airnow_</code> – functions for processing AirNow data</li>
<li>
<code>airsis_</code> – functions for processing raw AIRSIS data</li>
<li>
<code>epa_</code> – functions for processing EPA data</li>
<li>
<code>monitor_</code> – functions for working with <em>ws_monitor</em> objects</li>
<li>
<code>raw_</code> – functions for processing raw, “engineering” data from AIRSIS and WRCC</li>
<li>
<code>wrcc_</code> – functions for processing raw WRCC data</li>
</ul>
<p>For most people, only the <code>monitor_</code> category is important as it allows you to work with pre-generated <em>ws_monitor</em> objects as described in the “Data Model” vignette.</p>
<p>A <em>ws_monitor</em> object contains both data and metadata for a collection of monitors. It has a very compact data model and allows you to work with data from many monitors at once.</p>
</div>
<div id="available-data" class="section level2">
<h2 class="hasAnchor">
<a href="#available-data" class="anchor"></a>Available data</h2>
<p>The USFS AirFire group regularly processes monitoring data in support of their <a href="https://tools.airfire.org/monitoring">Monitoring Website</a>. Pre-processed data files can be loaded from their servers by the following functions:</p>
<ul>
<li>
<code>~_load()</code> – load data based on a start- and end-time</li>
<li>
<code>~loadAnnual()</code> – load a year’s worth of data</li>
<li>
<code>~loadDaily()</code> – load the most recent 45 days of data (updated once per day)</li>
<li>
<code>~loadLatest()</code> – load the most recent 10 days of data (updated every hour)</li>
</ul>
<p>Data archives go back over 10 years depending on the source of data.</p>
</div>
<div id="data-pipelines" class="section level2">
<h2 class="hasAnchor">
<a href="#data-pipelines" class="anchor"></a>Data pipelines</h2>
<p>We encourage people to embrace “data pipeline” style coding as encouraged by <strong>dplyr</strong> and related packages. The special <code>%&gt;%</code> operator sends the output of one function to the input of the next function, thus allowing for easy “chaining” of results.</p>
<p>With only a few exceptions, all the <code>monitor_</code> functions accept a <em>ws_monitor</em> object as their first argument and generate a <em>ws_monitor</em> object as a result so they can be chained together.</p>
</div>
<div id="a-first-example" class="section level2">
<h2 class="hasAnchor">
<a href="#a-first-example" class="anchor"></a>A first example</h2>
<p>Let’s say we are interested in the impact of smoke from the 2018 <a href="https://en.wikipedia.org/wiki/Camp_Fire_(2018)">Camp Fire</a> on the Sacramento area.</p>
<p>We would begin by creating a <code>camp_fire</code> <em>ws_monitor</em> object that has all the monitors in California for the period of interest:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">camp_fire &lt;-</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/monitor_loadAnnual.html">monitor_loadAnnual</a></span>(<span class="dv">2018</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/monitor_subset.html">monitor_subset</a></span>(<span class="dt">stateCodes =</span> <span class="st">'CA'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/monitor_subset.html">monitor_subset</a></span>(<span class="dt">tlim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">20181108</span>,<span class="dv">20181123</span>))</a></code></pre></div>
<p>We can display these monitors (colored by maximum PM2.5 value) in an interactive map, zoom in and click on the monitor in downtown Sacramento to get it’s <code>monitorID</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/monitor_leaflet.html">monitor_leaflet</a></span>(camp_fire)</a></code></pre></div>
<div id="htmlwidget-eee853876f64c59b71d3" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-eee853876f64c59b71d3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[37.2123755,-119.8434495],6,[]],"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[40.715279,39.753889,38.93309,34.3833,34.4044,38.2183,40.301899,37.8148,37.06315,39.166,37.793624,36.5975,34.4278,37.6825,36.694261,33.792221,35.04676,36.785378,39.2031,34.1439,37.9722,39.3386,33.999449,34.10366,34.637798,34.21,34.669589,37.7486,37.9604,33.583099,36.209286,37.743061,39.150478,40.170917,33.7472,37.962069,33.920758,33.217026,36.999571,41.72679,38.102507,32.7917,37.645718,33.830586,33.676535,38.494475,36.843425,37.7658,35.02079,34.445301,40.4531,37.4883,36.489399,34.9481,37.125861,34.8416,36.4878,37.338202,36.6324,37.360701,38.2019,35.356667,38.7458,38.89,38.403765,35.0506,34.1992,37.2817,36.48187,34.243132,37.6583,34.4483,39.1003,38.302591,38.683304,32.842297,37.9508,36.98332,39.1389,36.3322,34.2653,38.6619,37.74646,37.0481,37.701222,36.6972,39.808334,32.789561,37.3483,34.51,35.25639,33.996387,36.0214,35.494556,37.864767,37.067003,38.278849,35.755,37.687526,39.32756,37.9383,32.676102,39.411743,39.234402,38.53455,34.066429,38.937801,38.613804,38.56844,37.4828,38.3525,34.2775,37.3667,39.9369,40.734722,39.76161,36.1994,39.015,39.533889,32.579361,36.9533,36.0319,36.48943,36.13588,39.3945,35.96981,36.13834,36.46723,41.84539,40.94684,36.42786,41.75593,36.56613,36.73926,41.51379,41.18982,39.01889,39.07471,39.07191,38.89744,39.64906,39.71073,38.6109,38.50116,38.47687,38.48517,38.7138,38.67133,38.45758,38.43836,39.4358,37.48835],[-124.201393,-121.624444,-119.971712,-118.5283,-118.81,-121.77,-121.235001,-122.282402,-122.083092,-120.1488,-122.263376,-118.04,-119.6903,-121.4406,-121.623271,-118.175278,-120.58777,-119.773206,-122.0169,-117.8508,-122.5189,-120.170303,-117.415831,-117.629096,-120.456703,-118.8694,-118.130689,-119.5869,-122.3571,-117.072197,-121.126371,-122.169907,-123.206528,-122.255667,-115.8201,-119.120278,-116.858419,-117.396156,-121.574684,-122.63359,-122.237976,-115.5617,-118.966515,-117.938509,-117.331027,-121.211131,-121.3621,-122.3978,-120.56389,-119.827797,-122.2978,-120.8358,-118.826897,-120.4344,-122.122127,-118.8647,-117.871,-121.849892,-120.3822,-118.330835,-120.680603,-119.062778,-121.2653,-121.3,-122.818294,-118.1464,-118.5331,-120.433601,-121.73333,-117.272275,-120.9936,-119.2303,-120.9528,-121.420838,-121.164457,-116.768326,-121.2675,-121.98822,-121.6175,-119.2903,-119.1336,-121.7278,-120.1437,-122.074603,-121.903019,-119.0189,-120.471664,-116.944222,-121.8947,-117.3306,-120.668892,-117.4925,-118.137,-120.666203,-122.302741,-122.057206,-122.275024,-118.4175,-121.784217,-121.66881,-122.025,-115.483299,-123.352661,-121.055603,-121.7734,-118.226755,-121.103897,-121.368007,-121.49311,-122.2022,-121.9617,-118.6847,-118.4167,-120.9478,-122.941109,-121.84048,-120.0991,-122.286111,-122.190833,-116.929486,-120.0341,-119.055,-118.8292,-118.811,-120.1883,-118.5414,-118.6171,-118.858,-123.967,-123.6365,-118.9123,-124.2036,-118.7778,-118.9621,-123.9962,-123.6965,-122.9133,-122.5972,-120.1485,-121.0764,-121.6496,-121.7093,-122.8689,-122.9982,-121.4695,-121.4539,-120.5914,-121.5037,-122.68,-122.6711,-121.5457,-119.9677],10,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":["#FF0000","#FFFF00","#7E0023","#FF7E00","#FF7E00","#7E0023","#FF0000","#8F3F97","#FF0000","#FFFF00","#8F3F97","#FF7E00","#FFFF00","#7E0023","#7E0023","#FF0000","#FF7E00","#FF0000","#7E0023","#FF0000","#8F3F97","#FFFF00","#FF7E00","#FF0000","#FF0000","#FF0000","#FF7E00","#FF0000","#7E0023","#FFFF00","#FF0000","#8F3F97","#7E0023","#8F3F97","#FFFF00","#FF7E00","#FF7E00","#FF7E00","#FF0000","#FFFF00","#8F3F97","#FF0000","#FF0000","#FF0000","#FFFF00","#7E0023","#FF0000","#8F3F97","#FF0000","#FF7E00","#7E0023","#7E0023","#FF0000","#FF7E00","#FF0000","#FF7E00","#FF0000","#8F3F97","#FF0000","#FFFF00","#FF0000","#FF0000","#7E0023","#7E0023","#7E0023","#FF7E00","#FF0000","#FF0000","#FF0000","#FF0000","#7E0023","#FF0000","#7E0023","#7E0023","#7E0023","#FFFF00","#7E0023","#FF0000","#7E0023","#FF0000","#7E0023","#7E0023","#8F3F97","#FF0000","#7E0023","#FF0000","#8F3F97","#FF7E00","#8F3F97","#FF7E00","#FF7E00","#FF0000","#8F3F97","#FF7E00","#8F3F97","#FF0000","#8F3F97","#8F3F97","#7E0023","#7E0023","#8F3F97","#FF0000","#8F3F97","#7E0023","#7E0023","#FF0000","#FF0000","#7E0023","#7E0023","#8F3F97","#8F3F97","#FF0000","#FF0000","#FF0000","#8F3F97","#7E0023","#FF0000","#FF0000","#7E0023","#FF7E00","#FF0000","#FF0000","#FF0000","#8F3F97","#FFFF00","#7E0023","#7E0023","#8F3F97","#8F3F97","#8F3F97","#FF0000","#FF0000","#8F3F97","#FF0000","#8F3F97","#FF0000","#7E0023","#8F3F97","#FF0000","#8F3F97","#7E0023","#7E0023","#FF0000","#FF0000","#7E0023","#7E0023","#FF0000","#7E0023","#FF0000","#FF0000","#7E0023","#FF7E00"],"fillOpacity":0.7},null,null,["siteName: Humboldt Hill<br>monitorID: 060231005_01<br>elevation: 172<br>pm25: 62.2<br>","siteName: Paradise Theater<br>monitorID: 060072002_01<br>elevation: NA<br>pm25: 20<br>","siteName: MMCA81010<br>monitorID: MMCA81010_01<br>elevation: NA<br>pm25: 662<br>","siteName: Santa Clarita<br>monitorID: 060376012_01<br>elevation: 117<br>pm25: 54<br>","siteName: Piru - Pacific<br>monitorID: 061110009_01<br>elevation: NA<br>pm25: 38<br>","siteName: Rio Vista<br>monitorID: 060959999_01<br>elevation: 7<br>pm25: 287<br>","siteName: Chester BAM<br>monitorID: 060631007_01<br>elevation: NA<br>pm25: 62<br>","siteName: Oakland West<br>monitorID: 060010011_01<br>elevation: 3<br>pm25: 210<br>","siteName: SLV Middle School AMS<br>monitorID: 060871005_01<br>elevation: 98<br>pm25: 103<br>","siteName: Tahoe City<br>monitorID: 060611004_01<br>elevation: 1917<br>pm25: 22<br>","siteName: Laney College<br>monitorID: 060010012_01<br>elevation: 4<br>pm25: 218<br>","siteName: Lone Pine Paiute/Shoshone Tribe-CA<br>monitorID: 060271018_01<br>elevation: 1289<br>pm25: 40.1<br>","siteName: Santa Barbara<br>monitorID: 060830011_01<br>elevation: 6<br>pm25: 34<br>","siteName: TracyAP<br>monitorID: 060773005_01<br>elevation: NA<br>pm25: 458<br>","siteName: Salinas AMS<br>monitorID: 060531003_01<br>elevation: 10<br>pm25: 657<br>","siteName: South Long Beach<br>monitorID: 060374004_01<br>elevation: 6<br>pm25: 65.6<br>","siteName: Nipomo Mesa CDF<br>monitorID: 060792007_01<br>elevation: 30<br>pm25: 55<br>","siteName: Fresno - Garland<br>monitorID: 060190011_01<br>elevation: 97<br>pm25: 112.2<br>","siteName: Colusa - Sunrise Blvd.<br>monitorID: 060111002_01<br>elevation: NA<br>pm25: 294<br>","siteName: Glendora - Laurel<br>monitorID: 060370016_01<br>elevation: 84<br>pm25: 74.2<br>","siteName: San Rafael<br>monitorID: 060410001_01<br>elevation: 1<br>pm25: 218<br>","siteName: Truckee BAM<br>monitorID: 060571001_01<br>elevation: NA<br>pm25: 34<br>","siteName: Riverside - Rubidoux<br>monitorID: 060658001_01<br>elevation: 79<br>pm25: 48<br>","siteName: Upland<br>monitorID: 060711004_01<br>elevation: 127<br>pm25: 65.2<br>","siteName: Lompoc H Street<br>monitorID: 060832004_01<br>elevation: NA<br>pm25: 69<br>","siteName: Thousand Oaks - Moorpark Road<br>monitorID: 061110007_01<br>elevation: NA<br>pm25: 139<br>","siteName: Lancaster-Division<br>monitorID: 060379033_01<br>elevation: 720<br>pm25: 45<br>","siteName: Yosemite Village - Visitor Center<br>monitorID: 060431001_01<br>elevation: NA<br>pm25: 79<br>","siteName: San Pablo - Rumrill<br>monitorID: 060131004_01<br>elevation: 20<br>pm25: 302<br>","siteName: Temecula (Lake Skinner)<br>monitorID: 060650016_01<br>elevation: 453<br>pm25: 32.3<br>","siteName: King City AMS<br>monitorID: 060530008_01<br>elevation: 103<br>pm25: 92<br>","siteName: Oakland<br>monitorID: 060010009_01<br>elevation: 10<br>pm25: 217<br>","siteName: Ukiah Library<br>monitorID: 060450006_01<br>elevation: 189<br>pm25: 345<br>","siteName: Red Bluff - Walnut office<br>monitorID: 061030007_01<br>elevation: 100<br>pm25: 192<br>","siteName: Joshua Tree NP - Cottonwood Canyon 2<br>monitorID: 060650010_01<br>elevation: NA<br>pm25: 30<br>","siteName: Lee Vining<br>monitorID: 060510005_01<br>elevation: NA<br>pm25: 36.9<br>","siteName: Banning - South Hathaway Street<br>monitorID: 060650012_01<br>elevation: NA<br>pm25: 42.7<br>","siteName: Camp Pendleton<br>monitorID: 060731008_01<br>elevation: 16<br>pm25: 35.8<br>","siteName: Gilory - 9th Street<br>monitorID: 060850002_01<br>elevation: 63<br>pm25: 126<br>","siteName: Yreka<br>monitorID: 060932001_01<br>elevation: NA<br>pm25: 33<br>","siteName: Vallejo<br>monitorID: 060950004_01<br>elevation: 6<br>pm25: 245<br>","siteName: El Centro - 9th Street<br>monitorID: 060251003_01<br>elevation: NA<br>pm25: 88<br>","siteName: Mammoth Lakes<br>monitorID: 060510001_01<br>elevation: NA<br>pm25: 96.6<br>","siteName: Anaheim<br>monitorID: 060590007_01<br>elevation: 15<br>pm25: 61.3<br>","siteName: Lake Elsinore - W. Flint Street<br>monitorID: 060659001_01<br>elevation: 134<br>pm25: 26.5<br>","siteName: Sloughhouse<br>monitorID: 060675003_01<br>elevation: 59<br>pm25: 494<br>","siteName: Hollister AMS<br>monitorID: 060690002_01<br>elevation: NA<br>pm25: 109<br>","siteName: San Francisco<br>monitorID: 060750005_01<br>elevation: 2<br>pm25: 241<br>","siteName: Mesa 2 /Nipomo<br>monitorID: 060792004_01<br>elevation: NA<br>pm25: 58<br>","siteName: Goleta<br>monitorID: 060832011_01<br>elevation: NA<br>pm25: 42<br>","siteName: Anderson<br>monitorID: 060890007_01<br>elevation: 137<br>pm25: 255.7<br>","siteName: Turlock - S. Minaret Street<br>monitorID: 060990006_01<br>elevation: NA<br>pm25: 354<br>","siteName: Sequoia and Kings Canyon - Ash Mountain<br>monitorID: 061070009_01<br>elevation: 610<br>pm25: 147.2<br>","siteName: Santa Maria - Broadway<br>monitorID: 060831008_01<br>elevation: NA<br>pm25: 48<br>","siteName: Boulder Creek<br>monitorID: 060879993_01<br>elevation: 148<br>pm25: 112<br>","siteName: Lebec<br>monitorID: 060292009_01<br>elevation: NA<br>pm25: 50<br>","siteName: Keeler<br>monitorID: 060271003_01<br>elevation: NA<br>pm25: 65.2<br>","siteName: San Jose - Knox Ave<br>monitorID: 060850006_01<br>elevation: NA<br>pm25: 199<br>","siteName: Tranquillity<br>monitorID: 060192009_01<br>elevation: NA<br>pm25: 143<br>","siteName: NCore - White Mountain Research Station - OVL<br>monitorID: 060270002_01<br>elevation: 1232<br>pm25: 22.1<br>","siteName: San Andreas<br>monitorID: 060090001_01<br>elevation: 300<br>pm25: 77<br>","siteName: Bakersfield - California Ave<br>monitorID: 060290014_01<br>elevation: NA<br>pm25: 121<br>","siteName: Roseville - N.Sunrise/Douglas<br>monitorID: 060610006_01<br>elevation: NA<br>pm25: 567<br>","siteName: Lincoln<br>monitorID: 060612001_01<br>elevation: 51<br>pm25: 457<br>","siteName: Sebastopol<br>monitorID: 060970004_01<br>elevation: NA<br>pm25: 266<br>","siteName: Mojave - 923 Poole St.<br>monitorID: 060290011_01<br>elevation: NA<br>pm25: 48<br>","siteName: Reseda<br>monitorID: 060371201_01<br>elevation: 71<br>pm25: 148.3<br>","siteName: Merced - S. Coffee Ave<br>monitorID: 060470003_01<br>elevation: NA<br>pm25: 139<br>","siteName: Carmel Valley AMS<br>monitorID: 060530002_01<br>elevation: 200<br>pm25: 106<br>","siteName: Crestline - Lake Gregory<br>monitorID: 060710005_01<br>elevation: 1388<br>pm25: 91<br>","siteName: Modesto - 14th Street<br>monitorID: 060990005_01<br>elevation: NA<br>pm25: 317<br>","siteName: Ojai - Ojai Ave.<br>monitorID: 061111004_01<br>elevation: 233<br>pm25: 62<br>","siteName: Colfax<br>monitorID: 060610004_01<br>elevation: NA<br>pm25: 296<br>","siteName: Elk Grove<br>monitorID: 060670011_01<br>elevation: 6<br>pm25: 297<br>","siteName: Folsom<br>monitorID: 060670012_01<br>elevation: 102<br>pm25: 408<br>","siteName: Alpine<br>monitorID: 060731006_01<br>elevation: 622<br>pm25: 34.6<br>","siteName: Stockton - Hazelton Street<br>monitorID: 060771002_01<br>elevation: NA<br>pm25: 305<br>","siteName: Santa Cruz AMS<br>monitorID: 060870007_01<br>elevation: NA<br>pm25: 140<br>","siteName: Yuba City<br>monitorID: 061010003_01<br>elevation: NA<br>pm25: 543<br>","siteName: Visalia - N. Church Street<br>monitorID: 061072002_01<br>elevation: NA<br>pm25: 98<br>","siteName: El Rio - Rio Mesa School #2<br>monitorID: 061113001_01<br>elevation: NA<br>pm25: 279<br>","siteName: Woodland<br>monitorID: 061131003_01<br>elevation: NA<br>pm25: 351<br>","siteName: EBAM7 - Sac 5th St. Warehouse<br>monitorID: 069999916_01<br>elevation: NA<br>pm25: 172<br>","siteName: Felton Cal-Fire<br>monitorID: 060879991_01<br>elevation: 90<br>pm25: 133<br>","siteName: Pleasanton - Owens Ct.<br>monitorID: 060010015_01<br>elevation: 100<br>pm25: 259<br>","siteName: Pinehurst<br>monitorID: 840060199999_01<br>elevation: NA<br>pm25: 56.7<br>","siteName: Portola<br>monitorID: 060631010_01<br>elevation: NA<br>pm25: 182<br>","siteName: El Cajon - Lexington Elementary School<br>monitorID: 060731022_01<br>elevation: 144<br>pm25: 37<br>","siteName: San Jose - Jackson St.<br>monitorID: 060850005_01<br>elevation: 10<br>pm25: 195<br>","siteName: Victorville - Park Avenue<br>monitorID: 060710306_01<br>elevation: 278<br>pm25: 48<br>","siteName: San Luis Obispo - Higuera St<br>monitorID: 060792006_01<br>elevation: NA<br>pm25: 41<br>","siteName: Mira Loma - Van Buren<br>monitorID: 060658005_01<br>elevation: 231<br>pm25: 55.8<br>","siteName: Kennedy Meadows<br>monitorID: 840061079999_01<br>elevation: NA<br>pm25: 161<br>","siteName: Atascadero2<br>monitorID: 060798002_01<br>elevation: 260<br>pm25: 55<br>","siteName: Berkeley Aquatic Park<br>monitorID: 060010013_01<br>elevation: 3<br>pm25: 224<br>","siteName: Zayante Fire Station<br>monitorID: 060879990_01<br>elevation: NA<br>pm25: 112<br>","siteName: Napa - Napa Valley College<br>monitorID: 060550004_01<br>elevation: 10<br>pm25: 173<br>","siteName: Kernville<br>monitorID: 840060299999_01<br>elevation: NA<br>pm25: 171.5<br>","siteName: Livermore - Rincon<br>monitorID: 060010007_01<br>elevation: 137<br>pm25: 287<br>","siteName: Gridley<br>monitorID: 060074001_01<br>elevation: NA<br>pm25: 769<br>","siteName: Concord<br>monitorID: 060130002_01<br>elevation: NA<br>pm25: 209<br>","siteName: Calexico - Ethel Street<br>monitorID: 060250005_01<br>elevation: NA<br>pm25: 134<br>","siteName: Willits Justice Center<br>monitorID: 060452002_01<br>elevation: 427<br>pm25: 230<br>","siteName: Grass Valley<br>monitorID: 060570005_01<br>elevation: NA<br>pm25: 503<br>","siteName: Davis - UCD Campus<br>monitorID: 061130004_01<br>elevation: NA<br>pm25: 290<br>","siteName: Los Angeles - N. Main Street<br>monitorID: 060371103_01<br>elevation: 30<br>pm25: 76<br>","siteName: Auburn<br>monitorID: 060610002_01<br>elevation: NA<br>pm25: 144<br>","siteName: Arden Arcade - Del Paso Manor<br>monitorID: 060670006_01<br>elevation: 25<br>pm25: 447<br>","siteName: Downtown Sacramento - T Street<br>monitorID: 060670010_01<br>elevation: NA<br>pm25: 421<br>","siteName: Redwood City<br>monitorID: 060811001_01<br>elevation: 1<br>pm25: 181<br>","siteName: Vacaville<br>monitorID: 060953002_01<br>elevation: NA<br>pm25: 237<br>","siteName: Simi Valley - Cochran Street<br>monitorID: 061112002_01<br>elevation: NA<br>pm25: 137<br>","siteName: Bishop Paiute Tribe-CA<br>monitorID: 060271023_01<br>elevation: 1289<br>pm25: 56.1<br>","siteName: Quincy BAM<br>monitorID: 060639901_01<br>elevation: NA<br>pm25: 63<br>","siteName: Weaverville<br>monitorID: 061050002_01<br>elevation: 600<br>pm25: 191<br>","siteName: Chico -  East<br>monitorID: 060070008_01<br>elevation: 63<br>pm25: 995<br>","siteName: Huron<br>monitorID: 060192008_01<br>elevation: NA<br>pm25: 127<br>","siteName: Cortina Rancheria<br>monitorID: 060110007_01<br>elevation: 244<br>pm25: 148.8<br>","siteName: Willows-Colusa<br>monitorID: 060210003_01<br>elevation: 14<br>pm25: 273<br>","siteName: Otay Mesa - Donovan<br>monitorID: 060731014_01<br>elevation: 185<br>pm25: 51.9<br>","siteName: Madera-City<br>monitorID: 060392010_01<br>elevation: NA<br>pm25: 107.4<br>","siteName: Porterville-NFS<br>monitorID: 061072010_01<br>elevation: NA<br>pm25: 96<br>","siteName: NPS SEKI-BAM<br>monitorID: lon_.118.829_lat_36.489_usfs.1015<br>elevation: NA<br>pm25: 146<br>","siteName: Springville-Springville WC<br>monitorID: lon_.118.811_lat_36.136_usfs.1027<br>elevation: NA<br>pm25: 171<br>","siteName: Truckee-10190 Klondike Flat Rd<br>monitorID: lon_.120.188_lat_39.395_usfs.1051<br>elevation: NA<br>pm25: 28<br>","siteName: 1052 Johnsondale<br>monitorID: lon_.118.541_lat_35.970_usfs.1052<br>elevation: NA<br>pm25: 254<br>","siteName: Springville-1575 CA-190<br>monitorID: lon_.118.617_lat_36.138_usfs.1060<br>elevation: NA<br>pm25: 254<br>","siteName: Three Rivers-44310 Mineral King Rd<br>monitorID: lon_.118.858_lat_36.467_apcd.1021<br>elevation: NA<br>pm25: 170<br>","siteName: NCU_0_(Gasquet)<br>monitorID: lon_.123.967_lat_41.845_apcd.1024<br>elevation: NA<br>pm25: 175<br>","siteName: Willow Creek-580 CA-96<br>monitorID: lon_.123.636_lat_40.947_apcd.1027<br>elevation: NA<br>pm25: 224<br>","siteName: SEKI1003 EBAM6<br>monitorID: lon_.118.912_lat_36.428_apcd.1030<br>elevation: NA<br>pm25: 133<br>","siteName: Crescent City-622 9th St<br>monitorID: lon_.124.204_lat_41.756_apcd.1031<br>elevation: NA<br>pm25: 139<br>","siteName: Sequoia National Park-Generals Hwy<br>monitorID: lon_.118.778_lat_36.566_apcd.1032<br>elevation: NA<br>pm25: 161<br>","siteName: SEKI1033 EBAM3<br>monitorID: lon_.118.962_lat_36.739_apcd.1033<br>elevation: NA<br>pm25: 131<br>","siteName: Klamath Glen<br>monitorID: lon_.123.996_lat_41.514_apcd.1034<br>elevation: NA<br>pm25: 199<br>","siteName: Hoopa-548 Weitchpec School Rd<br>monitorID: lon_.123.697_lat_41.190_apcd.1036<br>elevation: NA<br>pm25: 70<br>","siteName: Lakeport-2617 S Main St<br>monitorID: lon_.122.913_lat_39.019_apcd.1037<br>elevation: NA<br>pm25: 585<br>","siteName: Clearlake Oaks-3178 Tamarack Way<br>monitorID: lon_.122.597_lat_39.075_apcd.1038<br>elevation: NA<br>pm25: 186<br>","siteName: Tahoma-285 Grouse Dr<br>monitorID: lon_.120.148_lat_39.072_arb2.1006<br>elevation: NA<br>pm25: 94<br>","siteName: Auburn-110 Maple St<br>monitorID: lon_.121.076_lat_38.897_arb2.1011<br>elevation: NA<br>pm25: 201<br>","siteName: Oroville<br>monitorID: lon_.121.650_lat_39.649_arb2.1010<br>elevation: NA<br>pm25: 662<br>","siteName: Chico-Tuscan Rdg<br>monitorID: lon_.121.709_lat_39.711_arb2.1013<br>elevation: NA<br>pm25: 1847<br>","siteName: Healdsburg-306 Center St<br>monitorID: lon_.122.869_lat_38.611_arb2.1016<br>elevation: NA<br>pm25: 101<br>","siteName: Guerneville-16255 1st St<br>monitorID: lon_.122.998_lat_38.501_arb2.1017<br>elevation: NA<br>pm25: 118<br>","siteName: Sacramento<br>monitorID: lon_.121.469_lat_38.477_arb2.1020<br>elevation: NA<br>pm25: 256<br>","siteName: Sacramento-7927 East Pkwy<br>monitorID: lon_.121.454_lat_38.485_arb2.1020<br>elevation: NA<br>pm25: 421<br>","siteName: Pollock Pines-Environmental Ed<br>monitorID: lon_.120.591_lat_38.714_arb2.1025<br>elevation: NA<br>pm25: 102<br>","siteName: Sacramento-1901 Club Center Dr<br>monitorID: lon_.121.504_lat_38.671_arb2.1023<br>elevation: NA<br>pm25: 506<br>","siteName: Santa Rosa-116 Oakwood Ln<br>monitorID: lon_.122.680_lat_38.458_arb2.1039<br>elevation: NA<br>pm25: 101<br>","siteName: Santa Rosa-1775 Yulupa Ave<br>monitorID: lon_.122.671_lat_38.438_arb2.1039<br>elevation: NA<br>pm25: 144<br>","siteName: Palermo-2290 Palermo Rd<br>monitorID: lon_.121.546_lat_39.436_arb2.1041<br>elevation: NA<br>pm25: 659<br>","siteName: Mariposa 1000<br>monitorID: lon_.119.968_lat_37.488_mariposa.1000<br>elevation: NA<br>pm25: 53<br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#7E0023","#8F3F97","#FF0000","#FF7E00","#FFFF00","#00E400"],"labels":["Hazardous","Very Unhealthy","Unhealthy","USG","Moderate","Good"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":"AQI Level","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[32.579361,41.84539],"lng":[-124.2036,-115.483299]}},"evals":[],"jsHooks":[]}</script><p>We can use this <code>monitorID</code> to create a <em>ws_monitor</em> object for this single monitor and take a look at a timeseries plot:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">Sacramento &lt;-</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span>camp_fire <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/monitor_subset.html">monitor_subset</a></span>(<span class="dt">monitorIDs =</span> <span class="st">'060670010_01'</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="kw"><a href="../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot</a></span>(</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  Sacramento,</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  <span class="dt">style=</span><span class="st">'aqidots'</span>,</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  <span class="dt">pch=</span><span class="dv">16</span>,</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  <span class="dt">xlab=</span><span class="st">"2018"</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="kw"><a href="../reference/addAQIStackedBar.html">addAQIStackedBar</a></span>()</a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="kw"><a href="../reference/addAQILines.html">addAQILines</a></span>()</a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="kw"><a href="../reference/addAQILegend.html">addAQILegend</a></span>(<span class="dt">cex=</span><span class="fl">0.8</span>)</a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/title">title</a></span>(<span class="st">"Sacramento Smoke"</span>)</a></code></pre></div>
<p><img src="PWFSLSmoke_files/figure-html/Sacramento_3-1.png" width="672"></p>
<p>Next, we can use this specific location to create a <em>ws_monitor</em> object containing all monitors within 50km of Sacramento:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">Sacramento_area &lt;-</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span>camp_fire <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/monitor_subsetByDistance.html">monitor_subsetByDistance</a></span>(</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">    <span class="dt">longitude =</span> Sacramento<span class="op">$</span>meta<span class="op">$</span>longitude,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">    <span class="dt">latitude =</span> Sacramento<span class="op">$</span>meta<span class="op">$</span>latitude,</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">    <span class="dt">radius =</span> <span class="dv">50</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">  )</a>
<a class="sourceLine" id="cb7-8" data-line-number="8"></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="kw"><a href="../reference/monitor_leaflet.html">monitor_leaflet</a></span>(Sacramento_area)</a></code></pre></div>
<div id="htmlwidget-3d10043ba8553ce3861e" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-3d10043ba8553ce3861e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[38.55415,-121.5630785],9,[]],"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[38.2183,38.494475,38.7458,38.89,38.302591,38.683304,38.6619,38.53455,38.613804,38.56844,38.3525,38.47687,38.48517,38.67133],[-121.77,-121.211131,-121.2653,-121.3,-121.420838,-121.164457,-121.7278,-121.7734,-121.368007,-121.49311,-121.9617,-121.4695,-121.4539,-121.5037],10,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":["#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#7E0023","#8F3F97","#7E0023","#7E0023","#7E0023"],"fillOpacity":0.7},null,null,["siteName: Rio Vista<br>monitorID: 060959999_01<br>elevation: 7<br>pm25: 287<br>","siteName: Sloughhouse<br>monitorID: 060675003_01<br>elevation: 59<br>pm25: 494<br>","siteName: Roseville - N.Sunrise/Douglas<br>monitorID: 060610006_01<br>elevation: NA<br>pm25: 567<br>","siteName: Lincoln<br>monitorID: 060612001_01<br>elevation: 51<br>pm25: 457<br>","siteName: Elk Grove<br>monitorID: 060670011_01<br>elevation: 6<br>pm25: 297<br>","siteName: Folsom<br>monitorID: 060670012_01<br>elevation: 102<br>pm25: 408<br>","siteName: Woodland<br>monitorID: 061131003_01<br>elevation: NA<br>pm25: 351<br>","siteName: Davis - UCD Campus<br>monitorID: 061130004_01<br>elevation: NA<br>pm25: 290<br>","siteName: Arden Arcade - Del Paso Manor<br>monitorID: 060670006_01<br>elevation: 25<br>pm25: 447<br>","siteName: Downtown Sacramento - T Street<br>monitorID: 060670010_01<br>elevation: NA<br>pm25: 421<br>","siteName: Vacaville<br>monitorID: 060953002_01<br>elevation: NA<br>pm25: 237<br>","siteName: Sacramento<br>monitorID: lon_.121.469_lat_38.477_arb2.1020<br>elevation: NA<br>pm25: 256<br>","siteName: Sacramento-7927 East Pkwy<br>monitorID: lon_.121.454_lat_38.485_arb2.1020<br>elevation: NA<br>pm25: 421<br>","siteName: Sacramento-1901 Club Center Dr<br>monitorID: lon_.121.504_lat_38.671_arb2.1023<br>elevation: NA<br>pm25: 506<br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#7E0023","#8F3F97","#FF0000","#FF7E00","#FFFF00","#00E400"],"labels":["Hazardous","Very Unhealthy","Unhealthy","USG","Moderate","Good"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":"AQI Level","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[38.2183,38.89],"lng":[-121.9617,-121.164457]}},"evals":[],"jsHooks":[]}</script><p>We can display the hourly data for all the monitors and add day/night shading:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot</a></span>(Sacramento_area, </a>
<a class="sourceLine" id="cb8-2" data-line-number="2">                       <span class="dt">style=</span><span class="st">'gnats'</span>,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">                       <span class="dt">shadedNight =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="PWFSLSmoke_files/figure-html/Sacramento_5-1.png" width="672"></p>
<p>We can average together all the monitors and create a local-time daily average for the Sacramento area:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">Sacramento_area <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/monitor_collapse.html">monitor_collapse</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/monitor_dailyStatistic.html">monitor_dailyStatistic</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/monitor_extractDataFrame.html">monitor_extractData</a></span>()</a></code></pre></div>
<pre><code>##      datetime generated_id
## 1  2018-11-08     16.21326
## 2  2018-11-09     22.88914
## 3  2018-11-10    118.27386
## 4  2018-11-11    108.70644
## 5  2018-11-12     77.61905
## 6  2018-11-13     69.34701
## 7  2018-11-14    110.33220
## 8  2018-11-15    195.24252
## 9  2018-11-16    156.23176
## 10 2018-11-17    102.75000
## 11 2018-11-18     96.15941
## 12 2018-11-19     66.85133
## 13 2018-11-20     43.12689
## 14 2018-11-21     31.78472</code></pre>
<p>Alternatively, we can plot the daily averages:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">Sacramento_area <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/monitor_collapse.html">monitor_collapse</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/monitor_dailyBarplot.html">monitor_dailyBarplot</a></span>(<span class="dt">labels_x_nudge =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">                       <span class="dt">labels_y_nudge =</span> <span class="dv">15</span>)</a></code></pre></div>
<p><img src="PWFSLSmoke_files/figure-html/Sacramento_7-1.png" width="672"></p>
<p>Hopefully, this short introduction will encourage you to start using this package for your own analyses.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#background">Background</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#function-names">Function names</a></li>
      <li><a href="#available-data">Available data</a></li>
      <li><a href="#data-pipelines">Data pipelines</a></li>
      <li><a href="#a-first-example">A first example</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jonathan Callahan, Rohan Aras, Zach Dingels, Jon Hagg, Jimin Kim, Hans Martin, Helen Miller, Spencer Pease, Rex Thompson, Alice Yang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
