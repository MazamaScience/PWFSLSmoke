<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example: Denver Air Quality Forecast • PWFSLSmoke</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Example: Denver Air Quality Forecast">
<meta property="og:description" content="PWFSLSmoke">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">PWFSLSmoke</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.114</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/PWFSLSmoke.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/Data_Model.html">Data Model</a>
    </li>
    <li>
      <a href="../../articles/Maps_and_Timeseries_Plots.html">Maps and Timeseries Plots</a>
    </li>
    <li>
      <a href="../../articles/NowCast.html">NowCast</a>
    </li>
    <li>
      <a href="../../articles/articles/Example_Denver_Air_Quality_Forecast.html">Example: Denver Air Quality Forecast</a>
    </li>
    <li>
      <a href="../../articles/articles/Example_Save_Data_as_CSV.html">Example: Save Data as CSV</a>
    </li>
    <li>
      <a href="../../articles/articles/Loading_Monitoring_Data.html">Loading Monitoring Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MazamaScience/PWFSLSmoke/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Example_Denver_Air_Quality_Forecast_files/header-attrs-2.5/header-attrs.js"></script><link href="Example_Denver_Air_Quality_Forecast_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Example_Denver_Air_Quality_Forecast_files/anchor-sections-1.0/anchor-sections.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/jquery-1.12.4/jquery.min.js"></script><link href="Example_Denver_Air_Quality_Forecast_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="Example_Denver_Air_Quality_Forecast_files/leaflet-1.3.1/leaflet.js"></script><link href="Example_Denver_Air_Quality_Forecast_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="Example_Denver_Air_Quality_Forecast_files/proj4-2.6.2/proj4.min.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="Example_Denver_Air_Quality_Forecast_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="Example_Denver_Air_Quality_Forecast_files/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script><link href="Example_Denver_Air_Quality_Forecast_files/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="Example_Denver_Air_Quality_Forecast_files/dygraphs-1.1.1/dygraph-combined.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/dygraphs-1.1.1/shapes.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/moment-2.8.4/moment.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="Example_Denver_Air_Quality_Forecast_files/dygraphs-binding-1.1.1.6/dygraphs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example: Denver Air Quality Forecast</h1>
                        <h4 class="author">Mazama Science</h4>
            
            <h4 class="date">2021-02-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MazamaScience/PWFSLSmoke/blob/master/vignettes/articles/Example_Denver_Air_Quality_Forecast.Rmd"><code>vignettes/articles/Example_Denver_Air_Quality_Forecast.Rmd</code></a></small>
      <div class="hidden name"><code>Example_Denver_Air_Quality_Forecast.Rmd</code></div>

    </div>

    
    
<p>On Tuesday morning (February 16, 2021), Meteorologist Ashton Altieri <a href="https://denver.cbslocal.com/2021/02/16/denver-weather-air-quality-quickly-worsen-tuesday-more-snow-possible/">predicted</a> worrying air quality levels in the Denver metro area and along the entire Front Range through the afternoon. The Colorado Department of Public Health and Environment encouraged people to limit driving non-EV vehicles in Denver, Boulder and Fort Collins to avoid worsening the air pollution levels.</p>
<p>In Colorado, poor air quality levels during winter are due to <em>temperature inversions</em> - “weather events in which cold, polluted air near the ground is unable to escape into the atmosphere and disperse because of a layer of hotter air above, which creates a trapping effect. In the winter, weakened sunlight and a frozen ground combine to create temperature inversions, sometimes lasting days at a time” (<a href="https://www.iqair.com/us/usa/colorado/denver">Air quality in Denver</a>).</p>
<p>Let’s use the PWFSLSmoke R package to do our own investigation of the PM2.5 levels around that date to see if the forecast panned out.</p>
<div id="pwfslsmoke-r-package" class="section level2">
<h2 class="hasAnchor">
<a href="#pwfslsmoke-r-package" class="anchor"></a>PWFSLSmoke R package</h2>
<p>We will begin by loading the <strong>dplyr</strong> and <strong>PWFSLSmoke</strong> packages and loading the latest data so we can find some monitors of interest between Denver and Fort Collins:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MazamaScience/PWFSLSmoke">PWFSLSmoke</a></span><span class="op">)</span>

<span class="co"># Load, subset and plot recent PM2.5 data</span>
<span class="fu"><a href="../../reference/monitor_loadLatest.html">monitor_loadLatest</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../../reference/monitor_subset.html">monitor_subset</a></span><span class="op">(</span>stateCodes <span class="op">=</span> <span class="st">"CO"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../../reference/monitor_leaflet.html">monitor_leaflet</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-51910855c11211caa8ae" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-51910855c11211caa8ae">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[39.7096295,-106.733551],7,[]],"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[40.0128,38.8763,39.8281,40.164585,39.063599,39.531799,39.192966,39.751099,39.7794,39.5339,40.571259,39.7386,39.785622,40.4147,39.732144,38.848,40.086941,39.714386,39.714375,39.714275,40.152855,39.71434,39.71434,39.655357],[-105.2667,-107.6022,-104.93645,-105.100861,-108.561096,-107.782303,-106.823183,-104.987198,-105.00523,-105.07,-105.079765,-104.9394,-104.988469,-104.7061,-105.015313,-104.8286,-108.761002,-105.123917,-105.123955,-105.123917,-106.912193,-105.123932,-105.123962,-106.820877],10,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":["#00E400","#FFFF00","#FF7E00","#FF0000","#FFFF00","#FFFF00","#00E400","#FF7E00","#FF0000","#FFFF00","#FFFF00","#00E400","#FF0000","#FF7E00","#FF0000","#FFFF00","#FFFF00","#00E400","#00E400","#00E400","#00E400","#FFFF00","#FF7E00","#FF7E00"],"fillOpacity":0.7},null,null,["siteName: Boulder - CU - 2102 Athens St.<br>monitorID: 080131001_01<br>elevation: 1632<br>pm25: 10.9<br>","siteName: Paonia<br>monitorID: 840080290007_01<br>elevation: NA<br>pm25: 20.1<br>","siteName: Adams-Birch<br>monitorID: 840080010010_01<br>elevation: 1569<br>pm25: 46.8<br>","siteName: Longmont<br>monitorID: 080130003_01<br>elevation: 1522<br>pm25: 85.2<br>","siteName: Grand Junction - Powell Building<br>monitorID: 080770017_01<br>elevation: 1571<br>pm25: 17.6<br>","siteName: Rifle Particulate<br>monitorID: 080450007_01<br>elevation: 1571<br>pm25: 17<br>","siteName: Yellow Brick Building<br>monitorID: 080970008_01<br>elevation: 2410<br>pm25: 7.1<br>","siteName: Denver - CAMP - 2105 Broadway<br>monitorID: 080310002_01<br>elevation: 1601<br>pm25: 50.1<br>","siteName: La Casa NCORE - 4545 Navajo St.<br>monitorID: 080310026_01<br>elevation: 1602<br>pm25: 128.8<br>","siteName: Chatfield Park - 11500 N. Roxborough Park Rd.<br>monitorID: 080350004_01<br>elevation: 1571<br>pm25: 15.1<br>","siteName: Ft. Collins - CSU Facilities<br>monitorID: 080690009_01<br>elevation: 1526<br>pm25: 16.6<br>","siteName: Denver - NJH - 14th Ave. & Albion St.<br>monitorID: 080310013_01<br>elevation: 1629<br>pm25: 8<br>","siteName: Globeville<br>monitorID: 080310028_01<br>elevation: NA<br>pm25: 62.6<br>","siteName: Greeley Hospital<br>monitorID: 081230006_01<br>elevation: 1450<br>pm25: 47.2<br>","siteName: I25 Denver<br>monitorID: 080310027_01<br>elevation: 1589<br>pm25: 69.8<br>","siteName: Colorado College<br>monitorID: 080410017_01<br>elevation: 1571<br>pm25: 22.1<br>","siteName: Rangely, CO<br>monitorID: 081030006_01<br>elevation: 1656<br>pm25: 22<br>","siteName: Denver<br>monitorID: lon_.105.124_lat_39.714_wrcc.sm17<br>elevation: NA<br>pm25: 3<br>","siteName: Denver<br>monitorID: lon_.105.124_lat_39.714_wrcc.sm67<br>elevation: NA<br>pm25: 10<br>","siteName: Denver<br>monitorID: lon_.105.124_lat_39.714_wrcc.s454<br>elevation: NA<br>pm25: 6<br>","siteName: Yampa-208 Roselawn Ave<br>monitorID: lon_.106.912_lat_40.153_wrcc.e231<br>elevation: NA<br>pm25: 4<br>","siteName: Denver<br>monitorID: lon_.105.124_lat_39.714_wrcc.e794<br>elevation: NA<br>pm25: 23<br>","siteName: Denver<br>monitorID: lon_.105.124_lat_39.714_wrcc.e882<br>elevation: NA<br>pm25: 40<br>","siteName: Eagle-581 E 3rd St<br>monitorID: lon_.106.821_lat_39.655_wrcc.e925<br>elevation: NA<br>pm25: 40<br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#7E0023","#8F3F97","#FF0000","#FF7E00","#FFFF00","#00E400"],"labels":["Hazardous","Very Unhealthy","Unhealthy","USG","Moderate","Good"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":"AQI Level","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[38.848,40.571259],"lng":[-108.761002,-104.7061]}},"evals":[],"jsHooks":[]}</script><p>Zooming in and clicking on individual monitoring sites, we can create a collection of monitorIDs for which we will build a <em>ws_monitor</em> object for further inspection</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector of monitorIDs</span>
<span class="va">monitorIDs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"080310002_01"</span>, <span class="st">"080131001_01"</span>, <span class="st">"080130003_01"</span>, <span class="st">"081230006_01"</span>, 
               <span class="st">"080690009_01"</span><span class="op">)</span>

<span class="co"># Use MazamaCoreUtils::dateRange() to ensure we get POSIXct times in the local timezone</span>
<span class="va">dateRange</span> <span class="op">&lt;-</span> <span class="fu">MazamaCoreUtils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MazamaCoreUtils/man/dateRange.html">dateRange</a></span><span class="op">(</span><span class="fl">20210215</span>, <span class="fl">20210218</span>, timezone <span class="op">=</span> <span class="st">"America/Denver"</span><span class="op">)</span>

<span class="co"># Create a 'ws_monitor' object with monitors of interest</span>
<span class="va">my_monitors</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../../reference/monitor_load.html">monitor_load</a></span><span class="op">(</span><span class="va">dateRange</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">dateRange</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../../reference/monitor_subset.html">monitor_subset</a></span><span class="op">(</span>monitorIDs <span class="op">=</span> <span class="va">monitorIDs</span><span class="op">)</span>

<span class="co"># Another leaflet map showing max AQI values</span>
<span class="fu"><a href="../../reference/monitor_leaflet.html">monitor_leaflet</a></span><span class="op">(</span><span class="va">my_monitors</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-592f9625ade582817e9f" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-592f9625ade582817e9f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[40.161179,-104.9864],9,[]],"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[39.751099,40.0128,40.164585,40.4147,40.571259],[-104.987198,-105.2667,-105.100861,-104.7061,-105.079765],10,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":["#FF7E00","#FF7E00","#FF0000","#FF0000","#FF7E00"],"fillOpacity":0.7},null,null,["siteName: Denver - CAMP - 2105 Broadway<br>monitorID: 080310002_01<br>elevation: 1601<br>pm25: 55.4<br>","siteName: Boulder - CU - 2102 Athens St.<br>monitorID: 080131001_01<br>elevation: 1632<br>pm25: 40<br>","siteName: Longmont<br>monitorID: 080130003_01<br>elevation: 1522<br>pm25: 57.1<br>","siteName: Greeley Hospital<br>monitorID: 081230006_01<br>elevation: 1450<br>pm25: 69.8<br>","siteName: Ft. Collins - CSU Facilities<br>monitorID: 080690009_01<br>elevation: 1526<br>pm25: 55.3<br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#7E0023","#8F3F97","#FF0000","#FF7E00","#FFFF00","#00E400"],"labels":["Hazardous","Very Unhealthy","Unhealthy","USG","Moderate","Good"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomright","type":"unknown","title":"AQI Level","extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[39.751099,40.571259],"lng":[-105.2667,-104.7061]}},"evals":[],"jsHooks":[]}</script><p>Indeed, the map shows that the main cities along the Front Range experienced poor air quality indexes (AQI) with PM2.5 reaching USG (unhealthy for sensitive groups) and Unhealthy levels.</p>
<p>We can explore PM2.5 levels in detail with a “dygraph” interactive timeseries plot:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../../reference/monitor_dygraph.html">monitor_dygraph</a></span><span class="op">(</span>
  <span class="va">my_monitors</span>, 
  title <span class="op">=</span> <span class="st">"Front Range AQIs - Feb 15 - 18, 2021"</span>, 
  showLegend <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-3e1de128125470f74dae" style="width:672px;height:480px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-3e1de128125470f74dae">{"x":{"attrs":{"title":"Front Range AQIs - Feb 15 - 18, 2021","ylabel":"PM2.5 Concentration","labels":["hour","Denver - CAMP - 2105 Broadway","Boulder - CU - 2102 Athens St.","Longmont","Greeley Hospital","Ft. Collins - CSU Facilities"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":true,"hideOverlayOnMouseOut":true,"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel","showRoller":true,"rollPeriod":1},"scale":"hourly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2021-02-15T07:00:00.000Z","2021-02-15T08:00:00.000Z","2021-02-15T09:00:00.000Z","2021-02-15T10:00:00.000Z","2021-02-15T11:00:00.000Z","2021-02-15T12:00:00.000Z","2021-02-15T13:00:00.000Z","2021-02-15T14:00:00.000Z","2021-02-15T15:00:00.000Z","2021-02-15T16:00:00.000Z","2021-02-15T17:00:00.000Z","2021-02-15T18:00:00.000Z","2021-02-15T19:00:00.000Z","2021-02-15T20:00:00.000Z","2021-02-15T21:00:00.000Z","2021-02-15T22:00:00.000Z","2021-02-15T23:00:00.000Z","2021-02-16T00:00:00.000Z","2021-02-16T01:00:00.000Z","2021-02-16T02:00:00.000Z","2021-02-16T03:00:00.000Z","2021-02-16T04:00:00.000Z","2021-02-16T05:00:00.000Z","2021-02-16T06:00:00.000Z","2021-02-16T07:00:00.000Z","2021-02-16T08:00:00.000Z","2021-02-16T09:00:00.000Z","2021-02-16T10:00:00.000Z","2021-02-16T11:00:00.000Z","2021-02-16T12:00:00.000Z","2021-02-16T13:00:00.000Z","2021-02-16T14:00:00.000Z","2021-02-16T15:00:00.000Z","2021-02-16T16:00:00.000Z","2021-02-16T17:00:00.000Z","2021-02-16T18:00:00.000Z","2021-02-16T19:00:00.000Z","2021-02-16T20:00:00.000Z","2021-02-16T21:00:00.000Z","2021-02-16T22:00:00.000Z","2021-02-16T23:00:00.000Z","2021-02-17T00:00:00.000Z","2021-02-17T01:00:00.000Z","2021-02-17T02:00:00.000Z","2021-02-17T03:00:00.000Z","2021-02-17T04:00:00.000Z","2021-02-17T05:00:00.000Z","2021-02-17T06:00:00.000Z","2021-02-17T07:00:00.000Z","2021-02-17T08:00:00.000Z","2021-02-17T09:00:00.000Z","2021-02-17T10:00:00.000Z","2021-02-17T11:00:00.000Z","2021-02-17T12:00:00.000Z","2021-02-17T13:00:00.000Z","2021-02-17T14:00:00.000Z","2021-02-17T15:00:00.000Z","2021-02-17T16:00:00.000Z","2021-02-17T17:00:00.000Z","2021-02-17T18:00:00.000Z","2021-02-17T19:00:00.000Z","2021-02-17T20:00:00.000Z","2021-02-17T21:00:00.000Z","2021-02-17T22:00:00.000Z","2021-02-17T23:00:00.000Z","2021-02-18T00:00:00.000Z","2021-02-18T01:00:00.000Z","2021-02-18T02:00:00.000Z","2021-02-18T03:00:00.000Z","2021-02-18T04:00:00.000Z","2021-02-18T05:00:00.000Z","2021-02-18T06:00:00.000Z"],[15.8,17.3,13.5,14.7,17,18,18.7,20.2,23.3,24.5,33.2,35.9,39.2,33.7,28.4,23.7,24.7,23.9,23.4,23.7,26,27.4,28.7,29.3,28.1,24.1,30.5,31.8,35.9,36.6,29.3,36,47.7,55.4,49.8,13.4,11.8,7.7,8.1,9.1,9.5,10.8,12.2,13.3,11.2,10.2,8.9,10,10.6,19.2,27.7,34.4,30.4,22.7,22.1,27.3,null,null,25.8,35.7,30.8,21.5,17.6,18,17.7,14,9.3,7.5,7.1,3.6,2.7,3.9],[10.4,10.5,14.3,10.1,12.6,16.8,15.7,15.6,18,21.6,25.8,23,21,24.8,24.8,27.4,29.4,29.2,30.7,32.4,31.8,35.2,39,40,35.9,34.4,34.4,38.3,37.6,36.6,38.4,31.3,21,21.2,16.7,9,6.6,6.5,6.5,10.1,14.6,12.7,3.7,2.7,5.2,4.9,3.8,3.3,5.1,6,5.5,5.4,4.4,5,6.7,8.7,8.6,9.4,11.2,11.5,8.9,8.7,7.8,7.5,8.3,10.7,8.6,6.7,5.7,5.1,3.4,1.9],[11.6,13.5,14.9,15.3,14.7,15.5,14.1,16.4,19.6,23.1,24.7,24.7,25.4,25.7,29.1,30.7,29.6,28.9,30.9,30.9,29.7,31.4,32.2,30.9,38.1,45.5,41,47.2,46.5,46.5,53.5,54,56.4,57.1,38.5,24.8,21.9,17.3,17.1,14.7,18.1,19.2,22.9,26.4,38.5,35.8,34.6,34.4,38.7,43.9,41.9,42.2,30.4,22.1,14.9,11.8,10.6,8.7,9.4,9.8,8.7,7.9,7.8,6.9,11.1,11.6,13.4,8.1,7.3,4.4,4.4,5.7],[9.6,10.4,7.7,7.6,8,13,13.8,15,16.4,17.8,21.4,20.3,21.9,22.2,22.8,22.5,21.5,20.7,22.1,22.3,26.5,30.2,29,31.3,33.4,34.2,35.8,37.4,38.6,41.6,44.2,47.5,51.8,58.6,55.8,62.7,61.7,66,69.8,69.4,63.1,64.9,64.7,60.5,57.5,45.6,40.8,30.3,27.8,9.1,7.1,6,7,7.6,6.5,8.2,7.2,6.2,8.5,6.1,4.9,5.3,11.8,17.5,19.9,10.4,9.5,4.8,3.1,4.6,5.3,7.9],[13.5,14.5,16.6,15.8,16.6,18.3,21.2,23.4,23.7,25.5,25.4,23.5,22.9,24.4,27.7,31,32.7,32.1,36.2,41.4,45.8,45.4,44.2,47,45.7,49.1,53.5,54.2,54.9,55.3,48.2,49.2,48.6,42.7,50.5,49.8,51.2,37.3,35.7,45.7,42,48.5,42.1,40.8,38.4,33.2,23.6,9.8,11.1,11.5,5.3,6,6.3,7.1,8.7,9.8,11.8,11.1,10.1,7.9,7.6,8.8,9.5,12.5,11.3,10.7,8.3,3.3,3.2,4.1,4.8,5.4]],"fixedtz":true,"tzone":"America/Denver"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script><p>The <strong>PWFSLSmoke</strong> package also provides a baseplot timeseries plot that can be used to show all the data points in a publication-ready graphic:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot</a></span><span class="op">(</span><span class="va">my_monitors</span>, style <span class="op">=</span> <span class="st">"gnats"</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQIStackedBar.html">addAQIStackedBar</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQILines.html">addAQILines</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQILegend.html">addAQILegend</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/title.html">title</a></span><span class="op">(</span><span class="st">"Front Range PM2.5 values -- Feb 15 - 18, 2021"</span><span class="op">)</span></code></pre></div>
<p><img src="Example_Denver_Air_Quality_Forecast_files/figure-html/monitor_timeseriesPlot-1.png" width="672"></p>
<p>The <code><a href="../../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot()</a></code> function allows a variety of visualizations to be created:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot</a></span><span class="op">(</span><span class="va">my_monitors</span>, type <span class="op">=</span> <span class="st">'l'</span><span class="op">)</span>
<span class="fu"><a href="../../reference/monitor_timeseriesPlot.html">monitor_timeseriesPlot</a></span><span class="op">(</span><span class="va">my_monitors</span>, style <span class="op">=</span> <span class="st">'aqidots'</span>, pch<span class="op">=</span><span class="fl">16</span>, cex <span class="op">=</span> <span class="fl">1</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQIStackedBar.html">addAQIStackedBar</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQILines.html">addAQILines</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="../../reference/addAQILegend.html">addAQILegend</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/title.html">title</a></span><span class="op">(</span><span class="st">"Front Range PM2.5 values -- Feb 15 - 18, 2021"</span><span class="op">)</span></code></pre></div>
<p><img src="Example_Denver_Air_Quality_Forecast_files/figure-html/monitor_timeseriesPlot_2-1.png" width="672"></p>
</div>
<div id="airmonitorplots-r-package" class="section level2">
<h2 class="hasAnchor">
<a href="#airmonitorplots-r-package" class="anchor"></a>AirMonitorPlots R package</h2>
<p>For those with greater experience with R, the <a href="https://mazamascience.github.io/AirMonitorPlots/index.html">AirMonitorPlots</a> package provides additional, <strong>ggplot2</strong> based graphics for <em>ws_monitor</em> objects from the <strong>PWFSLSmoke</strong> package. <strong>AirMonitorPlots</strong> has not been released to CRAN but can be installed with:</p>
<pre><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("MazamaScience/AirMonitorPlots")</a></code></pre>
<p>The following example demonstrates what is possible with <strong>AirMonitorPlots</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># After looking at my_monitors$meta$siteName, help ggplot out by assigning </span>
<span class="co"># short labels to be used the facet label</span>
<span class="va">my_monitors</span><span class="op">$</span><span class="va">meta</span><span class="op">$</span><span class="va">shortName</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
  <span class="st">"Denver"</span>, <span class="st">"Boulder"</span>, <span class="st">"Longmont"</span>, <span class="st">"Greeley"</span>, <span class="st">"Ft. Collins"</span>
<span class="op">)</span>

<span class="co"># Load AirMonitorPlots</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MazamaScience/AirMonitorPlots">AirMonitorPlots</a></span><span class="op">)</span>

<span class="co"># Fancy plot with AQI bars</span>
<span class="va">gg</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/AirMonitorPlots/man/ggplot_pm25Timeseries.html">ggplot_pm25Timeseries</a></span><span class="op">(</span>
    <span class="va">my_monitors</span>,
    <span class="va">dateRange</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,
    <span class="va">dateRange</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,
    timezone <span class="op">=</span> <span class="st">"America/Denver"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Front Range PM2.5 values -- Feb 15 - 18, 2021"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/AirMonitorPlots/man/stat_AQCategory.html">stat_AQCategory</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">facet_grid</span><span class="op">(</span>rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">shortName</span><span class="op">)</span><span class="op">)</span> 

<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">gg</span><span class="op">)</span></code></pre></div>
<p><img src="Example_Denver_Air_Quality_Forecast_files/figure-html/ggplot_pm25Timeseries-1.png" width="672"></p>
<p>Greeley experienced the highest PM2.5 levels (~70 µg/m3) while Boulder was the least affected (~40 µg/m3). All in all, the prediction of worsening air quality during the day on Tuesday was largely realized as air quality reached USG levels in all communities and Unhealthy in Greeley.</p>
<hr>
<p><em>NOTE:</em> Up-to-the hour PM2.5 data from official monitors as well as low-cost sensors is available at <a href="https://fire.airnow.gov" class="uri">https://fire.airnow.gov</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jonathan Callahan, Hans Martin, Spencer Pease, Helen Miller, Zach Dingels, Rohan Aras, Jon Hagg, Jimin Kim, Rex Thompson, Alice Yang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
